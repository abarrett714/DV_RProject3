{
    "contents" : "require(tidyr)\nrequire(dplyr)\nrequire(ggplot2)\nrequire(utils)\n\nrequire(\"jsonlite\")\nrequire(\"RCurl\")\nMainDF <- data.frame(fromJSON(getURL(URLencode('129.152.144.84:5001/rest/native/?query=\"select * from HYGSTARDATA\"'),httpheader=c(DB='jdbc:oracle:thin:@129.152.144.84:1521/PDBF15DV.usuniversi01134.oraclecloud.internal', USER='cs329e_apb766', PASS='orcl_apb766', MODE='native_mode', MODEL='model', returnDimensions = 'False', returnFor = 'JSON'), verbose = TRUE)))\n\n#setwd(\"~/DataVisualization/DV_RProject3/01 Data\")\n\n#file_path <- \"hygdata_v3.reformatted10k.csv\"\n\n#MainDF <- read.csv(file_path, stringsAsFactors = FALSE)\n\nhead(MainDF)\n\ndf <- select(MainDF, id, spect, con)\n\n# Eliminate Extra Sepctrum data\nfor(n in names(df)) {\n  df[n] <- data.frame(lapply(df[n], gsub, pattern=\"(/[A-Z][0-9]I*)\",replacement= \"\"))\n}\nfor(n in names(df)) {\n  df[n] <- data.frame(lapply(df[n], gsub, pattern=\"(-I*)|(-V)|(-IV)\",replacement= \"\"))\n}\nfor(n in names(df)) {\n  df[n] <- data.frame(lapply(df[n], gsub, pattern=\"(/I*)|(/V)|(/IV)\",replacement= \"\"))\n}\n#for(n in names(df)) {\n#  df[n] <- data.frame(lapply(df[n], gsub, pattern=\"([A-Z]{1}[0-9]{1}I?!)\",replacement= \"\"))\n#}\n\nhead(df)\n\n\n\n\nhead(SCDF)\nSCDF <- rename(SCDF, spect = Class)\nhead(SCDF)\nSCDF2 <- select(SCDF, spect, Hex)\nhead(SCDF2)\n\n#the Join!\njdf <- left_join(df, SCDF2, by = \"spect\")\nhead(jdf)\n\n\njdf <- filter(jdf, spect != \"\", !is.na(Hex) )\njdf <- arrange(jdf, spect)\njdf <- distinct(jdf)\n\nhead(jdf)\n\nhexdf <- jdf['Hex']\n\nhead(hexdf)\nhexdf <-distinct(hexdf)\nhexdf <- hexdf[,\"Hex\"]\nhead(hexdf)\nhexdf\n\n\nrequire(extrafont)\nggplot() + \n  coord_cartesian() + \n  scale_x_discrete() +\n  scale_y_discrete() +\n  scale_color_manual(values=c(as.character(hexdf)))+\n  labs(title='Stars') +\n  labs(x=\"Color\", y=paste(\"Constellation\")) +\n  theme(axis.title.x = element_text(vjust=-0.35))+\n  theme(axis.text.x=element_text(size=0))+\n  theme(panel.background = element_rect(fill = 'black'),\n        panel.grid.major = element_line(colour = \"black\"),\n        panel.grid.minor = element_line(colour = \"black\"))+\n  theme(legend.position = \"none\")+\n  layer(data=jdf, \n        mapping=aes(as.character(Hex), y=as.character(con), color=Hex), \n        stat=\"identity\", \n        stat_params=list(), \n        geom=\"point\",\n        geom_params=list(), \n        #position=position_identity()\n        position=position_jitter(width=0.5, height=0)\n  )#+\n\n\n\n\n\n",
    "created" : 1444958306473.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "755498270",
    "id" : "7C6880BE",
    "lastKnownWriteTime" : 1445001778,
    "path" : "~/DataVisualization/DV_RProject3/02 Data Wrangling/Workflow2.R",
    "project_path" : "02 Data Wrangling/Workflow2.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "type" : "r_source"
}